{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../calc-line.service\";\nimport * as i2 from \"../message.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction CalcsListComponent_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 6)(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CalcsListComponent_li_3_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const each_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteLine(each_r2));\n    });\n    i0.ɵɵtext(6, \"x\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const each_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/detail/\", each_r2.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(each_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", each_r2.name, \" \");\n  }\n}\nexport class CalcsListComponent {\n  constructor(calcLineService, messageService) {\n    this.calcLineService = calcLineService;\n    this.messageService = messageService;\n    this.lines = [];\n  }\n  ngOnInit() {\n    this.getLines();\n  }\n  getLines() {\n    this.calcLineService.getAll().subscribe(resp => this.lines = resp);\n  }\n  addLine(name) {\n    name = name.trim();\n    if (!name) {\n      return;\n    }\n    this.calcLineService.addLine({\n      name\n    }).subscribe(line => {\n      this.lines.push(line);\n    });\n  }\n  deleteLine(line) {\n    this.lines = this.lines.filter(each => each !== line);\n    this.lineService.deleteLine(line.id).subscribe();\n  }\n}\nCalcsListComponent.ɵfac = function CalcsListComponent_Factory(t) {\n  return new (t || CalcsListComponent)(i0.ɵɵdirectiveInject(i1.CalcLineService), i0.ɵɵdirectiveInject(i2.MessageService));\n};\nCalcsListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalcsListComponent,\n  selectors: [[\"app-calcs-list\"]],\n  decls: 11,\n  vars: 1,\n  consts: [[1, \"lines\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"new-line\"], [\"id\", \"new-line\"], [\"lineName\", \"\"], [\"type\", \"button\", 1, \"add-button\", 3, \"click\"], [3, \"routerLink\"], [1, \"badge\"], [\"type\", \"button\", \"title\", \"delete line\", 1, \"delete\", 3, \"click\"]],\n  template: function CalcsListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"My Calcs\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"ul\", 0);\n      i0.ɵɵtemplate(3, CalcsListComponent_li_3_Template, 7, 3, \"li\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\")(5, \"label\", 2);\n      i0.ɵɵtext(6, \"Line name: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 3, 4);\n      i0.ɵɵelementStart(9, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function CalcsListComponent_Template_button_click_9_listener() {\n        i0.ɵɵrestoreView(_r5);\n        const _r1 = i0.ɵɵreference(8);\n        ctx.addLine(_r1.value);\n        return i0.ɵɵresetView(_r1.value = \"\");\n      });\n      i0.ɵɵtext(10, \" Add line \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.lines);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink],\n  styles: [\".lines[_ngcontent-%COMP%] {\\n  margin: 0 0 2em 0;\\n  list-style-type: none;\\n  padding: 0;\\n  width: 15em;\\n}\\n.lines[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  position: relative;\\n  cursor: pointer;\\n}\\n\\n.lines[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\\n  left: .1em;\\n}\\n\\n.lines[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #333;\\n  text-decoration: none;\\n  background-color: #EEE;\\n  margin: .5em;\\n  padding: .3em 0;\\n  height: 1.6em;\\n  border-radius: 4px;\\n  display: block;\\n  width: 100%;\\n}\\n\\n.lines[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  color: #2c3a41;\\n  background-color: #e6e6e6;\\n}\\n\\n.lines[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active {\\n  background-color: #525252;\\n  color: #fafafa;\\n}\\n\\n.lines[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  font-size: small;\\n  color: white;\\n  padding: 0.8em 0.7em 0 0.7em;\\n  background-color: #405061;\\n  line-height: 1em;\\n  position: relative;\\n  left: -1px;\\n  top: -4px;\\n  height: 1.8em;\\n  min-width: 16px;\\n  text-align: right;\\n  margin-right: .8em;\\n  border-radius: 4px 0 0 4px;\\n}\\n\\n.add-button[_ngcontent-%COMP%] {\\n padding: .5rem 1.5rem;\\n font-size: 1rem;\\n margin-bottom: 2rem;\\n}\\n\\n.add-button[_ngcontent-%COMP%]:hover {\\n  color: white;\\n  background-color: #42545C;\\n}\\n\\nbutton.delete[_ngcontent-%COMP%] {\\n  position: absolute;\\n  left: 210px;\\n  top: 5px;\\n  background-color: white;\\n  color:  #525252;\\n  font-size: 1.1rem;\\n  margin: 0;\\n  padding: 1px 10px 3px 10px;\\n}\\n\\nbutton.delete[_ngcontent-%COMP%]:hover {\\n  background-color: #525252;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FsY3MtbGlzdC9jYWxjcy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNENBQTRDO0FBQzVDO0VBQ0UsaUJBQWlCO0VBQ2pCLHFCQUFxQjtFQUNyQixVQUFVO0VBQ1YsV0FBVztBQUNiO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixlQUFlO0VBQ2YsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixjQUFjO0VBQ2QsV0FBVztBQUNiOztBQUVBO0VBQ0UsY0FBYztFQUNkLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osNEJBQTRCO0VBQzVCLHlCQUF5QjtFQUN6QixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixTQUFTO0VBQ1QsYUFBYTtFQUNiLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLDBCQUEwQjtBQUM1Qjs7QUFFQTtDQUNDLHFCQUFxQjtDQUNyQixlQUFlO0NBQ2YsbUJBQW1CO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsUUFBUTtFQUNSLHVCQUF1QjtFQUN2QixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLFNBQVM7RUFDVCwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtBQUNkIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ2FsY3NMaXN0Q29tcG9uZW50J3MgcHJpdmF0ZSBDU1Mgc3R5bGVzICovXG4ubGluZXMge1xuICBtYXJnaW46IDAgMCAyZW0gMDtcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBwYWRkaW5nOiAwO1xuICB3aWR0aDogMTVlbTtcbn1cbi5saW5lcyBsaSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ubGluZXMgbGk6aG92ZXIge1xuICBsZWZ0OiAuMWVtO1xufVxuXG4ubGluZXMgYSB7XG4gIGNvbG9yOiAjMzMzO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG4gIG1hcmdpbjogLjVlbTtcbiAgcGFkZGluZzogLjNlbSAwO1xuICBoZWlnaHQ6IDEuNmVtO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmxpbmVzIGE6aG92ZXIge1xuICBjb2xvcjogIzJjM2E0MTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZTZlNjtcbn1cblxuLmxpbmVzIGE6YWN0aXZlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzUyNTI1MjtcbiAgY29sb3I6ICNmYWZhZmE7XG59XG5cbi5saW5lcyAuYmFkZ2Uge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMC44ZW0gMC43ZW0gMCAwLjdlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQwNTA2MTtcbiAgbGluZS1oZWlnaHQ6IDFlbTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZWZ0OiAtMXB4O1xuICB0b3A6IC00cHg7XG4gIGhlaWdodDogMS44ZW07XG4gIG1pbi13aWR0aDogMTZweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIG1hcmdpbi1yaWdodDogLjhlbTtcbiAgYm9yZGVyLXJhZGl1czogNHB4IDAgMCA0cHg7XG59XG5cbi5hZGQtYnV0dG9uIHtcbiBwYWRkaW5nOiAuNXJlbSAxLjVyZW07XG4gZm9udC1zaXplOiAxcmVtO1xuIG1hcmdpbi1ib3R0b206IDJyZW07XG59XG5cbi5hZGQtYnV0dG9uOmhvdmVyIHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDI1NDVDO1xufVxuXG5idXR0b24uZGVsZXRlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAyMTBweDtcbiAgdG9wOiA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBjb2xvcjogICM1MjUyNTI7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDFweCAxMHB4IDNweCAxMHB4O1xufVxuXG5idXR0b24uZGVsZXRlOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzUyNTI1MjtcbiAgY29sb3I6IHdoaXRlO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAECA,0BAAgC;IAEVA,YAAW;IAAAA,iBAAO;IAACA,YACxC;IAAAA,iBAAI;IACJA,iCAAoF;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,iBAAC;IAAAA,iBAAS;;;;IAH3FA,eAAgC;IAAhCA,mEAAgC;IACdA,eAAW;IAAXA,gCAAW;IAAQA,eACxC;IADwCA,6CACxC;;;ACMF,OAAM,MAAOC,kBAAkB;EAG9BC,YAAoBC,eAAgC,EAAUC,cAA8B;IAAxE,oBAAe,GAAfD,eAAe;IAA2B,mBAAc,GAAdC,cAAc;IAF5E,UAAK,GAAe,EAAE;EAE0E;EAEhGC,QAAQ;IACP,IAAI,CAACC,QAAQ,EAAE;EAChB;EAEAA,QAAQ;IACP,IAAI,CAACH,eAAe,CAACI,MAAM,EAAE,CAC3BC,SAAS,CAACC,IAAI,IAAI,IAAI,CAACC,KAAK,GAAGD,IAAI,CAAC;EACvC;EAEAE,OAAO,CAACC,IAAY;IACnBA,IAAI,GAAGA,IAAI,CAACC,IAAI,EAAE;IAClB,IAAI,CAACD,IAAI,EAAE;MAAE;;IACb,IAAI,CAACT,eAAe,CAACQ,OAAO,CAAC;MAAEC;IAAI,CAAU,CAAC,CAC7CJ,SAAS,CAACM,IAAI,IAAG;MACjB,IAAI,CAACJ,KAAK,CAACK,IAAI,CAACD,IAAI,CAAC;IACtB,CAAC,CAAC;EACH;EAEAE,UAAU,CAACF,IAAc;IACxB,IAAI,CAACJ,KAAK,GAAG,IAAI,CAACA,KAAK,CAACO,MAAM,CAACC,IAAI,IAAIA,IAAI,KAAKJ,IAAI,CAAC;IACrD,IAAI,CAACK,WAAW,CAACH,UAAU,CAACF,IAAI,CAACM,EAAE,CAAC,CAACZ,SAAS,EAAE;EACjD;;AA1BYP,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MDX/BzB,0BAAI;MAAAA,wBAAQ;MAAAA,iBAAK;MACjBA,6BAAkB;MACjBA,iEAUK;MACNA,iBAAK;MACLA,2BAAK;MACmBA,2BAAW;MAAAA,iBAAQ;MACzCA,8BAAiC;MAGjCA,iCAA8F;MAArDA;QAAAA;QAAA;QAAS0B,sBAAuB;QAAA,OAAE1B,2BAAe,EAAE;MAAA,EAAC;MAC3FA,2BACF;MAAAA,iBAAS;;;MAnBWA,eAAQ;MAARA,mCAAQ","names":["i0","CalcsListComponent","constructor","calcLineService","messageService","ngOnInit","getLines","getAll","subscribe","resp","lines","addLine","name","trim","line","push","deleteLine","filter","each","lineService","id","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/mike/Hacking/mcalc-web/mcalc/src/app/calcs-list/calcs-list.component.html","/home/mike/Hacking/mcalc-web/mcalc/src/app/calcs-list/calcs-list.component.ts"],"sourcesContent":["<h2>My Calcs</h2>\n<ul class=\"lines\">\n\t<li *ngFor=\"let each of lines\" >\n\t\t<a routerLink=\"/detail/{{each.id}}\">\n\t\t\t<span class=\"badge\">{{each.id}}</span> {{each.name}}\n\t\t</a>\n\t\t<button type=\"button\" class=\"delete\" title=\"delete line\" (click)=\"deleteLine(each)\">x</button>\n\t\t<!-- button type=\"button\" (click)=\"goBack()\">go back</button -->\n\t\t<!-- <button [class.selected]=\"each === selectedLine\" type=\"button\" (click)=\"onSelect(each)\">\n\t\t\t<span class=\"badge\">{{each.id}}</span>\n\t\t\t<span class=\"name\">{{each.name}}</span>\n\t\t\t</button> -->\n\t</li>\n</ul>\n<div>\n  <label for=\"new-line\">Line name: </label>\n  <input id=\"new-line\" #lineName />\n\n  <!-- (click) passes input value to add() and then clears the input -->\n  <button type=\"button\" class=\"add-button\" (click)=\"addLine(lineName.value); lineName.value=''\">\n    Add line\n  </button>\n</div>\n","import { Component } from '@angular/core';\nimport { CalcLine } from '../calc-line';\nimport { CalcLineService } from '../calc-line.service';\nimport { MessageService } from '../message.service';\n\n@Component({\n  selector: 'app-calcs-list',\n  templateUrl: './calcs-list.component.html',\n  styleUrls: ['./calcs-list.component.css']\n})\n\nexport class CalcsListComponent {\n\tlines: CalcLine[] = [];\n\n\tconstructor(private calcLineService: CalcLineService, private messageService: MessageService ) {}\n\n\tngOnInit(): void {\n\t\tthis.getLines();\n\t}\n\n\tgetLines(): void {\n\t\tthis.calcLineService.getAll()\n\t\t\t.subscribe(resp => this.lines = resp);\n\t}\n\n\taddLine(name: string): void {\n\t\tname = name.trim();\n\t\tif (!name) { return; }\n\t\tthis.calcLineService.addLine({ name } as Hero)\n\t\t.subscribe(line => {\n\t\t\tthis.lines.push(line);\n\t\t});\n\t}\n\n\tdeleteLine(line: CalcLine): void {\n\t\tthis.lines = this.lines.filter(each => each !== line);\n\t\tthis.lineService.deleteLine(line.id).subscribe();\n\t}\n\n\t/* selectedLine? : CalcLine;\n\tonSelect(line: CalcLine): void {\n\t\tthis.selectedLine = line;\n\t\tthis.messageService.add(`CalcsListComponent: Selected line id=${line.id}`);\n\t} */\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}